{% extends "base.html" %}

{% block styles %}
<link href="../static/css/main.css" rel="stylesheet">
{% endblock %}

{% block content %}
<!-- Header -->
<header class="bg-light py-2">
  <div class="container px-4 px-lg-4 my-2">
      <div class="d-flex justify-content-between">
        <div class="start-all-checked">
          <button type="button" class="btn start-checked-btn btn-dark">
            Start up checked
          </button>
        </div>
        <div class="btn-update">
          <button type="button"  onClick="window.location.reload();" class="btn btn-dark">
            Update
          </button>
        </div>
      </div>
  </div>
</header>
<!-- Section -->
{% for user in users %}
  <form method="post" id="{{ user.id }}"></form>
{% endfor %}
<section class="py-3 px-lg-4">
  <div class="container px-4">
    <div class="row">
      
      <table id="bots" class="table align-middle table-striped table-bordered" cellspacing="0" width="100%">
        <thead class="table-dark">
          <tr>
            <th>
              <input type="checkbox" class="select-all checkbox" name="select-all" value="1000" />
            </th>
            <th>Edit</th>
            <th>Action</th>
            <th>Name</th>
            <th>Platform</th>
            <th>Login</th>
            <th>Info</th>
            <th>Proxy_host</th>
            <th>Proxy_port</th>
            <th>Proxy_login</th>
            <th>Proxy_pass</th>
            <th>User_agent</th>
            <th>Unmasked_vendor</th>
            <th>Unmasked_renderer</th>
            <th>Resolution</th>
          </tr>
        </thead>
        <tfoot class="table-dark">
          <tr>
            <th></th>
            <th>Edit</th>
            <th>Action</th>
            <th>Name</th>
            <th>Platform</th>
            <th>Login</th>
            <th>Info</th>
            <th>Proxy_host</th>
            <th>Proxy_port</th>
            <th>Proxy_login</th>
            <th>Proxy_pass</th>
            <th>User_agent</th>
            <th>Unmasked_vendor</th>
            <th>Unmasked_renderer</th>
            <th>Resolution</th>
          </tr>
        </tfoot>
        <tbody>
            {% for user in users %}
            <tr>
              <td class="active">
                <input type="checkbox" class="select-item checkbox" name="select-item" value="{{ user.id }}" />
              </td>
              <td>
                <button type="button" id="edit-btn" class="btn btn-dark btn" value="{{ user.id }}">Edit</button>
              </td>
              <td>
                <button type="button" id="start_up" class="btn btn-dark btn" value="{{ user.id }}">Start_up</button>
              </td>
              <td>{{ user.name }}</td>
              <td>{{ user.platform }}</td>
              <td>{{ user.login }}</td>
              <td>{{ user.info }}</td>
              <td>{{ user.proxy_host }}</td>
              <td>{{ user.proxy_port }}</td>
              <td>{{ user.proxy_login }}</td>
              <td>{{ user.proxy_pass }}</td>
              <td>{{ user.user_agent }}</td>
              <td>{{ user.unmasked_vendor }}</td>
              <td>{{ user.unmasked_renderer }}</td>
              <td>{{ user.resolution }}</td>
            </tr>
            
            <tr class="edit-row" id="edit-row{{ user.id }}">
              <td class="active" id="{{ user.id }}">
                <input type="checkbox" disabled="disabled" class="select-item checkbox" name="select-item" value="{{ user.id }}" />
              </td>
              <td>
                <button id="save-changes" form="{{ user.id }}" type="submit" class="btn btn-dark btn" value="{{ user.id }}">Save</button>
              </td>
              <td>
                <button id="cancel-editing" type="button" class="btn btn-danger" value="{{ user.id }}">Cancel</button>
              </td>
                <td><input form="{{ user.id }}" default="{{ user.name }}" value="{{ user.name }}" class="form-control"></td>
                <td><input form="{{ user.id }}" default="{{ user.platform }}" value="{{ user.platform }}" class="form-control"></td>
                <td><input form="{{ user.id }}" default="{{ user.login }}" value="{{ user.login }}" class="form-control"></td>
                <td><input form="{{ user.id }}" default="{{ user.info }}" value="{{ user.info }}" class="form-control"></td>
                <td><input form="{{ user.id }}" default="{{ user.proxy_host }}" value="{{ user.proxy_host }}" class="form-control"></td>
                <td><input form="{{ user.id }}" default="{{ user.proxy_port }}" value="{{ user.proxy_port }}" class="form-control"></td>
                <td><input form="{{ user.id }}" default="{{ user.proxy_login }}" value="{{ user.proxy_login }}" class="form-control"></td>
                <td><input form="{{ user.id }}" default="{{ user.proxy_pass }}" value="{{ user.proxy_pass }}" class="form-control"></td>
                <td><input form="{{ user.id }}" default="{{ user.user_agent }}" value="{{ user.user_agent }}" class="form-control"></td>
                <td><input form="{{ user.id }}" default="{{ user.unmasked_vendor }}" value="{{ user.unmasked_vendor }}" class="form-control"></td>
                <td><input form="{{ user.id }}" default="{{ user.unmasked_renderer }}" value="{{ user.unmasked_renderer }}" class="form-control"></td>
                <td><input form="{{ user.id }}" default="{{ user.resolution }}" value="{{ user.resolution }}" class="form-control"></td>

            </tr>
          
          {% endfor %}    
        </tbody>
      </table>
  
    </div>

  </div>
</section>
{% endblock %}

{% block scripts %}
  <script>
    $(document).ready(function() {
        $("#bots").DataTable({
            "scrollX": true
        });
        $('.dataTables_length').addClass('bs-select');
        
        $('.dataTables_filter').css({display: "flex"});
        $('.dataTables_filter').addClass('justify-content-end');

        $('.pagination').addClass('justify-content-end');

      });

  </script>
  <script src="../static/js/checkbox-selection.js"></script>
  <script src="../static/js/editrow-toggler.js"></script>
  <script src="../static/js/main-requests.js"></script>
  {% endblock %}
